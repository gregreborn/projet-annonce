<div class="form-header">
  <h1>Soumission d‚Äôun besoin</h1>
</div>

<form method="POST" action="{{SERVER_ABSOLUTE_PATH}}/annonces/create" enctype="multipart/form-data">

  <div class="form-group">
    <label for="nomOrganisme">Nom de l‚Äôorganisme *</label>
    <input type="text" name="nomOrganisme" id="nomOrganisme" required>
    <div id="nomOrganisme-error" class="error-text hidden"></div>
  </div>

  <div class="form-group">
    <label for="nom">Nom *</label>
    <input type="text" name="nom" id="nom" required>
    <div id="nom-error" class="error-text hidden"></div>
  </div>

  <div class="form-group">
    <label for="prenom">Pr√©nom *</label>
    <input type="text" name="prenom" id="prenom" required>
    <div id="prenom-error" class="error-text hidden"></div>
  </div>

  <div class="form-group">
    <label for="titre">Titre de l‚Äôannonce *</label>
    <input type="text" name="titre" id="titre" required>
    <div id="titre-error" class="error-text hidden"></div>
  </div>

  <div class="form-group">
    <label for="description">Description *</label>
    <textarea name="description" id="description" required></textarea>
    <div id="description-error" class="error-text hidden"></div>
  </div>

  <div class="form-group">
    <label for="telephone">T√©l√©phone</label>
    <div class="phone-input-container">
      <input type="tel" id="telephone" name="telephone">
    </div>
    <div id="phone-error" class="error-text hidden"></div>
  </div>
  

  <div class="form-group">
    <label for="courriel">Courriel *</label>
    <input type="email" name="courriel" id="courriel" required>
    <div id="courriel-error" class="error-text hidden"></div>
  </div>

  <div class="form-group">
    <label for="site">Site Web</label>
    <small>Veuillez entrer l'URL compl√®te (ex: https://example.com).</small>
    <input type="url" name="site" id="site">
  </div>

  <div class="form-group">
    <label for="dateDeDebutPub">Date de d√©but *</label>
    <input type="date" name="dateDeDebutPub" id="dateDeDebutPub" required>
    <div id="dateDeDebutPub-error" class="error-text hidden"></div>
  </div>
  
  <div class="form-group">
    <label for="dateDeFinPub">Date de fin *</label>
    <input type="date" name="dateDeFinPub" id="dateDeFinPub" required>
    <div id="dateDeFinPub-error" class="error-text hidden"></div>
  </div>

  <div class="form-group">
    <label for="localiteId">Localit√© *</label>
    <select name="localiteId" id="localiteId" required>
      <option value="">-- S√©lectionner une localit√© --</option>
      {{#localites}}
        <option value="{{id}}" data-ville="{{nom}}" data-mrc="{{mrc}}" data-prefixe="{{prefixe_postal}}">{{nom}}</option>
      {{/localites}}
    </select>
    <div id="localiteId-error" class="error-text hidden"></div>
  </div>
  
  <!-- Champs cach√©s auto-remplis -->
  <input type="hidden" name="ville" id="ville">
  <input type="hidden" name="mrc" id="mrc">
  <input type="hidden" name="codePostal" id="codePostal">  
  

  <div class="form-group">
    <label for="adresse">Adresse *</label>
    <div class="address-input-container">
      <input type="text" name="adresse" id="adresse" placeholder="123 Rue Saint-Laurent" required>
      <span class="tooltip-icon" onclick="toggleExample('adresse-example')">‚ùì</span>
    </div>
    <div id="adresse-example" class="example hidden">
      <strong>Exemples:</strong><br>
      üá®üá¶ Canada: <code>123 Rue Sainte-Catherine</code><br>
    </div>
    <div id="adresse-error" class="error-text hidden"></div>
  </div>

  <div class="form-group">
    <label for="categoriesId">Cat√©gorie *</label>
    <select name="categoriesId" id="categoriesId" required>
      <option value="">-- S√©lectionner une cat√©gorie --</option>
      {{#categories}}
        <option value="{{id}}">{{nom}}</option>
      {{/categories}}
    </select>
    <div id="categoriesId-error" class="error-text hidden"></div>
  </div>

  <!-- ‚úÖ Plugin ImageUploader -->
  <div class="form-group">
    <label for="image-preview-container">Joindre vos images</label>
    <div id="image-preview-container" class="image-preview-container"></div>
    <input type="hidden" name="uploadedImages" id="uploadedImages">
    <button type="button" id="open-image-uploader" class="button">Ajouter des images</button>
  </div>

  <!-- ‚úÖ Plugin MediaUploader -->
  <div class="form-group">
    <label for="media-preview-container">Joindre vos medias</label>
    <div id="media-preview-container" class="media-preview-container"></div>
    <input type="hidden" name="uploadedMedia" id="uploadedMedia">
    <button type="button" id="open-media-uploader" class="button">Ajouter des m√©dias</button>
  </div>

  <!-- Champs cach√©s -->
  <input type="hidden" name="type" value="besoin">
  <input type="hidden" name="thumbnailName" value="thumbnail.jpg">

  <button type="submit" class="button expanded">Soumettre le besoin</button>
</form>